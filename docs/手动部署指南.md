# 🚀 手动部署指南

## 概述

现在项目已移除 GitHub Actions 工作流，使用 GitHub 的自动部署功能。这样可以避免每次推送都触发构建检测。

## GitHub Pages 设置

### 1. 启用 GitHub Pages

1. 进入 GitHub 仓库页面
2. 点击 "Settings" 标签
3. 在左侧菜单找到 "Pages"
4. 配置设置：
   - **Source**: Deploy from a branch
   - **Branch**: `gh-pages`
   - **Folder**: `/ (root)`
5. 点击 "Save"

### 2. 创建 gh-pages 分支

如果 `gh-pages` 分支不存在，需要手动创建：

```bash
# 创建并切换到 gh-pages 分支
git checkout -b gh-pages

# 推送分支到远程仓库
git push origin gh-pages
```

## 部署流程

### 方法 1：使用 npm 脚本部署

```bash
# 构建项目
npm run build

# 部署到 GitHub Pages
npm run deploy
```

### 方法 2：手动部署

```bash
# 1. 构建项目
npm run build

# 2. 切换到 gh-pages 分支
git checkout gh-pages

# 3. 删除旧文件（保留 .git 目录）
rm -rf *

# 4. 复制构建文件
cp -r dist/* .

# 5. 添加并提交
git add .
git commit -m "部署更新"

# 6. 推送触发 GitHub Pages 部署
git push origin gh-pages

# 7. 切换回 main 分支
git checkout main
```

### 方法 3：使用部署脚本

```bash
# 运行部署脚本
./scripts/deploy.sh
```

## 优势

### ✅ 移除 GitHub Actions 的好处

1. **避免自动触发**：推送代码不会自动触发构建检测
2. **减少资源消耗**：不会消耗 GitHub Actions 分钟数
3. **更好的控制**：可以手动控制何时部署
4. **简化配置**：不需要维护复杂的工作流文件

### 📋 工作流程

1. **开发阶段**：
   ```bash
   git add .
   git commit -m "更新代码"
   git push origin main  # 不会触发构建
   ```

2. **部署阶段**：
   ```bash
   npm run deploy  # 或使用手动部署方法
   ```

## 验证部署

部署完成后，访问以下地址验证：

- **主页面**: https://pmeyes.github.io/
- **文章页面**: https://pmeyes.github.io/articles
- **关于页面**: https://pmeyes.github.io/about

## 故障排除

### 问题 1：gh-pages 分支不存在
```bash
git checkout -b gh-pages
git push origin gh-pages
```

### 问题 2：部署失败
1. 检查 GitHub Pages 设置
2. 确保 gh-pages 分支存在
3. 验证构建文件是否正确

### 问题 3：页面显示错误
1. 清除浏览器缓存
2. 检查 GitHub Pages 设置
3. 等待几分钟让部署生效

## 最佳实践

1. **定期部署**：在重要更新后及时部署
2. **测试构建**：部署前先在本地测试构建
3. **版本控制**：保持良好的提交信息
4. **备份重要文件**：确保重要文件不会被意外删除

---

💡 **提示**：现在您可以自由开发，不用担心每次推送都会触发构建检测！ 