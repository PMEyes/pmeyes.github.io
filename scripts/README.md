# ğŸ“œ è„šæœ¬è¯´æ˜æ–‡æ¡£

è¿™ä¸ªæ–‡ä»¶å¤¹åŒ…å«é¡¹ç›®çš„å„ç§è‡ªåŠ¨åŒ–è„šæœ¬ï¼Œç”¨äºæ–‡ç« ç”Ÿæˆã€æ•°æ®è½¬æ¢ã€éƒ¨ç½²ç­‰ä»»åŠ¡ã€‚

## ğŸ“ è„šæœ¬æ–‡ä»¶åˆ—è¡¨

```
scripts/
â”œâ”€â”€ README.md                    # æœ¬æ–‡æ¡£
â”œâ”€â”€ generateArticles.js          # æ–‡ç« å…ƒæ•°æ®ç”Ÿæˆè„šæœ¬
â”œâ”€â”€ convertArticlesToJson.js     # Markdownè½¬JSONè„šæœ¬
â”œâ”€â”€ compressImages.js            # å›¾ç‰‡å‹ç¼©è„šæœ¬ï¼ˆâ‰¤10KBï¼‰
â”œâ”€â”€ deploy.sh                    # éƒ¨ç½²è„šæœ¬
â””â”€â”€ test-deploy.sh              # æµ‹è¯•éƒ¨ç½²è„šæœ¬
```

## ğŸ”§ è„šæœ¬åŠŸèƒ½è¯´æ˜

### ğŸ“ generateArticles.js - æ–‡ç« å…ƒæ•°æ®ç”Ÿæˆ

**åŠŸèƒ½**ï¼šæ‰«æ `articles/` ç›®å½•ä¸‹çš„ Markdown æ–‡ä»¶ï¼Œç”Ÿæˆæ–‡ç« å…ƒæ•°æ®å’Œæ–‡ä»¶å¤¹æ ‘ç»“æ„ã€‚

**è¾“å…¥**ï¼š
- `articles/` ç›®å½•ä¸‹çš„ Markdown æ–‡ä»¶

**è¾“å‡º**ï¼š
- `src/data/articles.json` - æ–‡ç« å…ƒæ•°æ®æ–‡ä»¶
- `src/data/.articles-cache.json` - ç¼“å­˜æ–‡ä»¶

**ç‰¹æ€§**ï¼š
- âœ… æ™ºèƒ½ç¼“å­˜ï¼šåªå¤„ç†æœ‰å˜åŒ–çš„æ–‡ä»¶
- âœ… è‡ªåŠ¨è®¡ç®—ï¼šé˜…è¯»æ—¶é—´ã€æ‘˜è¦ç­‰
- âœ… æ–‡ä»¶å¤¹æ ‘ï¼šè‡ªåŠ¨ç”Ÿæˆç›®å½•ç»“æ„
- âœ… å¤šè¯­è¨€æ”¯æŒï¼šæ”¯æŒä¸­è‹±æ–‡æ–‡ä»¶å

**ä½¿ç”¨æ–¹æ³•**ï¼š
```bash
# æ‰‹åŠ¨è¿è¡Œ
npm run generate-articles

# æˆ–ç›´æ¥è¿è¡Œè„šæœ¬
node scripts/generateArticles.js
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```json
{
  "articles": [
    {
      "id": "project-boundary-exploration",
      "title": "é¡¹ç•Œæ–°æ¢ä»‹ç»",
      "excerpt": "è¯¦ç»†ä»‹ç»é¡¹ç•Œæ–°æ¢çš„æ¦‚å¿µ...",
      "publishedAt": "2025-08-04",
      "tags": ["é¡¹ç•Œæ–°æ¢", "é¡¹ç›®ç®¡ç†"],
      "slug": "project-boundary-exploration",
      "readingTime": 4,
      "folder": "é¡¹ç•Œæ–°æ¢"
    }
  ],
  "folderTree": [...]
}
```

### ğŸ”„ convertArticlesToJson.js - Markdownè½¬JSON

**åŠŸèƒ½**ï¼šå°† Markdown æ–‡ä»¶è½¬æ¢ä¸ºå®Œæ•´çš„ JSON æ–‡ä»¶ï¼ŒåŒ…å«æ–‡ç« å†…å®¹å’Œå…ƒæ•°æ®ã€‚

**è¾“å…¥**ï¼š
- `articles/` ç›®å½•ä¸‹çš„ Markdown æ–‡ä»¶

**è¾“å‡º**ï¼š
- `src/data/articles-json/` ç›®å½•ä¸‹çš„ JSON æ–‡ä»¶

**ç‰¹æ€§**ï¼š
- âœ… å®Œæ•´è½¬æ¢ï¼šåŒ…å« Front Matter å’Œå†…å®¹
- âœ… ç»“æ„åŒ–æ•°æ®ï¼šç»Ÿä¸€çš„ JSON æ ¼å¼
- âœ… ä¾¿äºè®¿é—®ï¼šå¯é€šè¿‡ HTTP è¯·æ±‚è·å–
- âœ… ç¼“å­˜å‹å¥½ï¼šé€‚åˆ CDN ç¼“å­˜
- âœ… æ™ºèƒ½ç¼“å­˜ï¼šä¸ generateArticles.js å…±äº«ç¼“å­˜æœºåˆ¶
- âœ… å¢é‡æ›´æ–°ï¼šåªåœ¨æ–‡ä»¶å˜åŒ–æ—¶é‡æ–°è½¬æ¢

**ä½¿ç”¨æ–¹æ³•**ï¼š
```bash
# æ‰‹åŠ¨è¿è¡Œ
npm run convert-articles

# æˆ–ç›´æ¥è¿è¡Œè„šæœ¬
node scripts/convertArticlesToJson.js
```

**ç¼“å­˜æœºåˆ¶**ï¼š
- ä¸ `generateArticles.js` å…±äº«ç¼“å­˜æ–‡ä»¶
- æ£€æŸ¥æ–‡ä»¶å˜åŒ–å’Œ JSON æ–‡ä»¶å®Œæ•´æ€§
- è‡ªåŠ¨æ›´æ–°ç¼“å­˜ä¿¡æ¯
- é¿å…é‡å¤è½¬æ¢æœªä¿®æ”¹çš„æ–‡ä»¶

**è¾“å‡ºç¤ºä¾‹**ï¼š
```json
{
  "id": "project-boundary-exploration",
  "title": "é¡¹ç•Œæ–°æ¢ä»‹ç»",
  "content": "# é¡¹ç•Œæ–°æ¢ï¼šé¡¹ç›®ç®¡ç†çš„æ–°è§†è§’\n\n## ä»€ä¹ˆæ˜¯é¡¹ç•Œæ–°æ¢ï¼Ÿ\n...",
  "rawContent": "---\ntitle: é¡¹ç•Œæ–°æ¢ä»‹ç»\n...\n---\n\n# é¡¹ç•Œæ–°æ¢ï¼šé¡¹ç›®ç®¡ç†çš„æ–°è§†è§’\n...",
  "tags": ["é¡¹ç•Œæ–°æ¢", "é¡¹ç›®ç®¡ç†"],
  "slug": "project-boundary-exploration",
  "readingTime": 4,
  "folder": "é¡¹ç•Œæ–°æ¢"
}
```

### ğŸ”— generate-all - åˆå¹¶è„šæœ¬

**åŠŸèƒ½**ï¼šä¸€æ¬¡æ€§æ‰§è¡Œæ–‡ç« å…ƒæ•°æ®ç”Ÿæˆå’Œ JSON è½¬æ¢ä¸¤ä¸ªæ­¥éª¤ã€‚

**ç‰¹æ€§**ï¼š
- âœ… ä¸€é”®æ‰§è¡Œï¼šåŒæ—¶ç”Ÿæˆå…ƒæ•°æ®å’Œ JSON æ–‡ä»¶
- âœ… é¡ºåºæ‰§è¡Œï¼šå…ˆç”Ÿæˆå…ƒæ•°æ®ï¼Œå†è½¬æ¢ JSON
- âœ… é”™è¯¯å¤„ç†ï¼šä»»ä¸€æ­¥éª¤å¤±è´¥éƒ½ä¼šåœæ­¢æ‰§è¡Œ
- âœ… ç®€åŒ–æµç¨‹ï¼šå‡å°‘æ‰‹åŠ¨æ‰§è¡Œå¤šä¸ªå‘½ä»¤

**ä½¿ç”¨æ–¹æ³•**ï¼š
```bash
# ä½¿ç”¨åˆå¹¶è„šæœ¬
npm run generate-all

# ç­‰åŒäº
npm run generate-articles && npm run convert-articles
```

**æ‰§è¡Œæµç¨‹**ï¼š
1. è¿è¡Œ `generateArticles.js` ç”Ÿæˆæ–‡ç« å…ƒæ•°æ®
2. è¿è¡Œ `convertArticlesToJson.js` è½¬æ¢ JSON æ–‡ä»¶
3. å¦‚æœç¬¬ä¸€æ­¥å¤±è´¥ï¼Œä¸ä¼šæ‰§è¡Œç¬¬äºŒæ­¥

### ğŸ–¼ï¸ compressImages.js - å›¾ç‰‡å‹ç¼©ï¼ˆéƒ¨ç½²å‰ï¼‰

**åŠŸèƒ½**ï¼šå°† `data/assets/` ä¸‹çš„å›¾ç‰‡å‹ç¼©åˆ° **10KB ä»¥å†…**ï¼Œåœ¨æ„å»º/éƒ¨ç½²å‰è‡ªåŠ¨æ‰§è¡Œã€‚

**è¾“å…¥**ï¼š
- `data/assets/` ç›®å½•ä¸‹çš„å›¾ç‰‡ï¼ˆPNGã€JPEGã€WebPï¼‰

**è¡Œä¸º**ï¼š
- å·² â‰¤10KB çš„å›¾ç‰‡è·³è¿‡
- è¶…è¿‡ 10KB çš„æŒ‰è´¨é‡/å°ºå¯¸å¤šæ¡£å°è¯•ï¼Œç›´è‡³ â‰¤10KB
- è‹¥ PNG æ— æ³•å‹åˆ° 10KB å†…ï¼Œä¼šè½¬ä¸º WebP æˆ– JPEG å¹¶**è‡ªåŠ¨æ›´æ–°**æ–‡ç«  JSON ä¸­çš„å›¾ç‰‡å¼•ç”¨

**ä½¿ç”¨æ–¹æ³•**ï¼š
```bash
# æ„å»ºæ—¶è‡ªåŠ¨æ‰§è¡Œï¼ˆnpm run build å†…å«æ­¤æ­¥ï¼‰
npm run compress-assets

# æˆ–ç›´æ¥è¿è¡Œ
node scripts/compressImages.js
```

**ä¾èµ–**ï¼š`sharp`ï¼ˆdevDependenciesï¼‰

### ğŸš€ deploy.sh - éƒ¨ç½²è„šæœ¬

**åŠŸèƒ½**ï¼šè‡ªåŠ¨åŒ–éƒ¨ç½²åˆ° GitHub Pagesã€‚

**ç‰¹æ€§**ï¼š
- âœ… è‡ªåŠ¨æ„å»ºï¼šè¿è¡Œ `npm run build`
- âœ… è‡ªåŠ¨éƒ¨ç½²ï¼šä½¿ç”¨ gh-pages éƒ¨ç½²
- âœ… é”™è¯¯å¤„ç†ï¼šéƒ¨ç½²å¤±è´¥æ—¶æä¾›é”™è¯¯ä¿¡æ¯
- âœ… çŠ¶æ€åé¦ˆï¼šæ˜¾ç¤ºéƒ¨ç½²è¿›åº¦

**ä½¿ç”¨æ–¹æ³•**ï¼š
```bash
# æ‰‹åŠ¨è¿è¡Œ
npm run deploy

# æˆ–ç›´æ¥è¿è¡Œè„šæœ¬
./scripts/deploy.sh
```

### ğŸ§ª test-deploy.sh - æµ‹è¯•éƒ¨ç½²è„šæœ¬

**åŠŸèƒ½**ï¼šæµ‹è¯•éƒ¨ç½²æµç¨‹ï¼Œä¸å®é™…æ¨é€åˆ°ç”Ÿäº§ç¯å¢ƒã€‚

**ç‰¹æ€§**ï¼š
- âœ… æ¨¡æ‹Ÿéƒ¨ç½²ï¼šæµ‹è¯•éƒ¨ç½²æµç¨‹
- âœ… æœ¬åœ°éªŒè¯ï¼šæ£€æŸ¥æ„å»ºç»“æœ
- âœ… å®‰å…¨æµ‹è¯•ï¼šä¸ä¿®æ”¹ç”Ÿäº§ç¯å¢ƒ
- âœ… è¯¦ç»†æ—¥å¿—ï¼šæä¾›æµ‹è¯•ç»“æœ

**ä½¿ç”¨æ–¹æ³•**ï¼š
```bash
# ç›´æ¥è¿è¡Œè„šæœ¬
./scripts/test-deploy.sh
```

## ğŸ”„ æ„å»ºæµç¨‹

### å®Œæ•´æ„å»ºæµç¨‹

```bash
npm run build
```

è¿™ä¸ªå‘½ä»¤ä¼šæŒ‰ä»¥ä¸‹é¡ºåºæ‰§è¡Œï¼š

1. **æ¸…ç†**ï¼šåˆ é™¤ `dist` ç›®å½•
2. **ç”Ÿæˆæ‰€æœ‰**ï¼š`generate-all` è„šæœ¬ï¼ˆåŒ…å«å…ƒæ•°æ®ç”Ÿæˆå’Œ JSON è½¬æ¢ï¼‰
3. **å‹ç¼©å›¾ç‰‡**ï¼š`compress-assets` å°† `data/assets/` å›¾ç‰‡å‹è‡³ â‰¤10KB
4. **ç¼–è¯‘**ï¼šTypeScript ç¼–è¯‘
5. **æ„å»º**ï¼šVite æ„å»ºï¼Œå¤åˆ¶ `data/` åˆ° `dist/data/`

### å¼€å‘æµç¨‹

```bash
npm run dev
```

è¿™ä¸ªå‘½ä»¤ä¼šï¼š

1. **ç”Ÿæˆå…ƒæ•°æ®**ï¼š`generateArticles.js`
2. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**ï¼šVite å¼€å‘æœåŠ¡å™¨

### æ–‡ä»¶ç»“æ„

```
src/data/
â”œâ”€â”€ articles.json              # æ–‡ç« å…ƒæ•°æ®
â”œâ”€â”€ .articles-cache.json       # ç¼“å­˜æ–‡ä»¶
â””â”€â”€ articles-json/             # æ–‡ç«  JSON æ–‡ä»¶
    â”œâ”€â”€ project-boundary-exploration.json
    â”œâ”€â”€ project-boundary-practice-cases.json
    â””â”€â”€ ... (å…¶ä»–æ–‡ç«  JSON æ–‡ä»¶)

dist/data/                     # æ„å»ºåçš„ç»“æ„
â”œâ”€â”€ articles.json              # æ–‡ç« å…ƒæ•°æ®
â”œâ”€â”€ .articles-cache.json       # ç¼“å­˜æ–‡ä»¶
â””â”€â”€ articles-json/             # æ–‡ç«  JSON æ–‡ä»¶
    â”œâ”€â”€ project-boundary-exploration.json
    â”œâ”€â”€ project-boundary-practice-cases.json
    â””â”€â”€ ... (å…¶ä»–æ–‡ç«  JSON æ–‡ä»¶)
```

## ğŸ“‹ è„šæœ¬ä¾èµ–

### Node.js æ¨¡å—

- `fs` - æ–‡ä»¶ç³»ç»Ÿæ“ä½œ
- `path` - è·¯å¾„å¤„ç†
- `crypto` - å“ˆå¸Œè®¡ç®—
- `gray-matter` - Front Matter è§£æ
- `child_process` - å­è¿›ç¨‹æ‰§è¡Œ

### å¤–éƒ¨ä¾èµ–

- `gh-pages` - GitHub Pages éƒ¨ç½²
- `husky` - Git é’©å­ç®¡ç†

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ–‡ç« æœªæ›´æ–°**
   ```bash
   # æ¸…é™¤ç¼“å­˜é‡æ–°ç”Ÿæˆ
   rm -f src/data/.articles-cache.json
   npm run generate-articles
   ```

2. **JSON æ–‡ä»¶æœªç”Ÿæˆ**
   ```bash
   # å¼ºåˆ¶è½¬æ¢
   npm run convert-articles
   ```

3. **éƒ¨ç½²å¤±è´¥**
   ```bash
   # æ£€æŸ¥æ„å»º
   npm run build
   
   # æµ‹è¯•éƒ¨ç½²
   ./scripts/test-deploy.sh
   ```

### è°ƒè¯•æŠ€å·§

1. **æŸ¥çœ‹ç¼“å­˜çŠ¶æ€**ï¼š
   ```bash
   cat src/data/.articles-cache.json
   ```

2. **æ£€æŸ¥ç”Ÿæˆçš„æ–‡ä»¶**ï¼š
   ```bash
   ls -la src/data/
   ls -la dist/articles-json/
   ```

3. **æŸ¥çœ‹æ„å»ºæ—¥å¿—**ï¼š
   ```bash
   npm run build --verbose
   ```

## ğŸ“ è„šæœ¬ç»´æŠ¤

### æ·»åŠ æ–°è„šæœ¬

1. åœ¨ `scripts/` ç›®å½•ä¸‹åˆ›å»ºæ–°è„šæœ¬
2. åœ¨ `package.json` ä¸­æ·»åŠ å¯¹åº”çš„å‘½ä»¤
3. æ›´æ–°æœ¬æ–‡æ¡£è¯´æ˜æ–°è„šæœ¬çš„åŠŸèƒ½

### ä¿®æ”¹ç°æœ‰è„šæœ¬

1. ä¿æŒå‘åå…¼å®¹æ€§
2. æ›´æ–°æ–‡æ¡£è¯´æ˜
3. æµ‹è¯•è„šæœ¬åŠŸèƒ½

### ç‰ˆæœ¬æ§åˆ¶

- æ‰€æœ‰è„šæœ¬éƒ½åº”è¯¥æäº¤åˆ° Git
- é‡è¦æ›´æ”¹éœ€è¦æ·»åŠ æ³¨é‡Š
- ä¿æŒè„šæœ¬çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§

## ğŸ¯ æœ€ä½³å®è·µ

1. **é”™è¯¯å¤„ç†**ï¼šæ‰€æœ‰è„šæœ¬éƒ½åº”è¯¥æœ‰é€‚å½“çš„é”™è¯¯å¤„ç†
2. **æ—¥å¿—è¾“å‡º**ï¼šæä¾›æ¸…æ™°çš„è¿›åº¦å’ŒçŠ¶æ€ä¿¡æ¯
3. **ç¼“å­˜æœºåˆ¶**ï¼šé¿å…é‡å¤å¤„ç†ç›¸åŒçš„æ•°æ®
4. **æ¨¡å—åŒ–**ï¼šå°†å¤æ‚åŠŸèƒ½æ‹†åˆ†ä¸ºå°å‡½æ•°
5. **æ–‡æ¡£åŒ–**ï¼šä¸ºæ¯ä¸ªè„šæœ¬æä¾›è¯¦ç»†è¯´æ˜

---

âœ… **è„šæœ¬ç³»ç»Ÿå·²å®Œå–„ï¼Œæ”¯æŒè‡ªåŠ¨åŒ–æ–‡ç« ç”Ÿæˆã€è½¬æ¢å’Œéƒ¨ç½²æµç¨‹ï¼** 

# è„šæœ¬è¯´æ˜

## Node.js ç‰ˆæœ¬æ£€æŸ¥

### checkNodeVersion.js
Node.js ç‰ˆæœ¬æ£€æŸ¥è„šæœ¬ï¼Œç”¨äºéªŒè¯å½“å‰ Node.js ç‰ˆæœ¬æ˜¯å¦ç¬¦åˆé¡¹ç›®è¦æ±‚ã€‚

**åŠŸèƒ½ï¼š**
- æ£€æŸ¥å½“å‰ Node.js ç‰ˆæœ¬æ˜¯å¦ >= 22.12.0
- å¦‚æœç‰ˆæœ¬è¿‡ä½ï¼Œæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯å’Œå¿«é€Ÿå‡çº§æç¤º
- å¦‚æœç‰ˆæœ¬ç¬¦åˆè¦æ±‚ï¼Œæ˜¾ç¤ºé€šè¿‡ä¿¡æ¯
- è¯¦ç»†å‡çº§æŒ‡å—è¯·æŸ¥çœ‹ `docs/NodeJSå‡çº§æŒ‡å—.md`

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
# ç›´æ¥è¿è¡Œ
node scripts/checkNodeVersion.js

# é€šè¿‡ npm è„šæœ¬è¿è¡Œ
npm run check-node
```

## é›†æˆåˆ°é¡¹ç›®è„šæœ¬

æ ¸å¿ƒå¼€å‘è„šæœ¬ä¼šåœ¨è¿è¡Œå‰è‡ªåŠ¨æ£€æŸ¥ Node.js ç‰ˆæœ¬ï¼š

- `npm run dev` - å¼€å‘æœåŠ¡å™¨ï¼ˆä¼šæ£€æŸ¥ç‰ˆæœ¬ï¼‰
- `npm run build` - æ„å»ºé¡¹ç›®ï¼ˆä¼šæ£€æŸ¥ç‰ˆæœ¬ï¼‰

å…¶ä»–è„šæœ¬ä¸ä¼šæ£€æŸ¥ç‰ˆæœ¬ï¼Œä»¥æé«˜æ‰§è¡Œæ•ˆç‡ï¼š

- `npm run lint` - ä»£ç æ£€æŸ¥
- `npm run preview` - é¢„è§ˆæ„å»ºç»“æœ
- `npm run generate-articles` - ç”Ÿæˆæ–‡ç« 
- `npm run convert-articles` - è½¬æ¢æ–‡ç« 
- `npm run generate-all` - ç”Ÿæˆæ‰€æœ‰å†…å®¹
- `npm run deploy` - éƒ¨ç½²é¡¹ç›®

å¦‚æœ Node.js ç‰ˆæœ¬ä¸ç¬¦åˆè¦æ±‚ï¼Œç›¸å…³è„šæœ¬ä¼šï¼š
1. æ˜¾ç¤ºå½“å‰ç‰ˆæœ¬å’Œè¦æ±‚ç‰ˆæœ¬
2. æä¾›å‡çº§æŒ‡å—çš„é“¾æ¥
3. é€€å‡ºæ‰§è¡Œï¼Œé˜²æ­¢å…¼å®¹æ€§é—®é¢˜

## ç‰ˆæœ¬è¦æ±‚

- **æœ€ä½ç‰ˆæœ¬ï¼š** Node.js >= 22.12.0
- **æ¨èç‰ˆæœ¬ï¼š** Node.js >= 22.12.0
- **npm ç‰ˆæœ¬ï¼š** >= 10.0.0

## å‡çº§å»ºè®®

æ¨èä½¿ç”¨ nvm ç®¡ç† Node.js ç‰ˆæœ¬ï¼š

```bash
# å®‰è£… nvm
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash

# é‡æ–°åŠ è½½ç»ˆç«¯
source ~/.zshrc

# å®‰è£… Node.js 22
nvm install 22
nvm use 22
nvm alias default 22
```

## æ•…éšœæ’é™¤

å¦‚æœé‡åˆ°ç‰ˆæœ¬æ£€æŸ¥é—®é¢˜ï¼š

1. ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„ Node.js ç‰ˆæœ¬
2. è¿è¡Œ `npm run upgrade-guide` æŸ¥çœ‹è¯¦ç»†å‡çº§æ­¥éª¤
3. å‡çº§åé‡æ–°å®‰è£…ä¾èµ–ï¼š`npm install`
4. æ¸…é™¤ç¼“å­˜ï¼š`npm cache clean --force` 